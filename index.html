<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyPrice</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <script defer src="app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>

    <h1>EasyPrice - Calcolatore Prezzi</h1>

    <form id="calcForm">
        <label for="prezzoLordo">Prezzo Lordo (â‚¬):</label>
        <input type="text" id="prezzoLordo" placeholder="Inserisci il prezzo lordo" required>

        <label for="sconto">Sconto (%):</label>
        <input type="text" id="sconto" placeholder="Inserisci lo sconto" required>

        <label for="margine">Margine MC (%):</label>
        <input type="text" id="margine" placeholder="Inserisci il margine MC" required>

        <label for="trasporto">Costo Trasporto (â‚¬):</label>
        <input type="text" id="trasporto" placeholder="Inserisci il costo di trasporto">

        <label for="installazione">Costo Installazione (â‚¬):</label>
        <input type="text" id="installazione" placeholder="Inserisci il costo di installazione">

        <label for="totaleIvaManuale">Totale IVA Esclusa (â‚¬) (Opzionale):</label>
        <input type="text" id="totaleIvaManuale" placeholder="Inserisci totale IVA esclusa manualmente">

        <button type="button" id="calcola">Calcola</button>
    </form>

    <h2>Risultati:</h2>
    <p>Totale IVA esclusa: <span id="totaleIva">0,00</span> â‚¬</p>
    <p>Costo Trasporto: <span id="costiTrasporto">0,00</span> â‚¬</p>
    <p>Costo Installazione: <span id="costiInstallazione">0,00</span> â‚¬</p>
    <p>Compenso/Provvigione: <span id="provvigione">0,00</span> â‚¬</p>

    <hr>

    <h1>Simulatore Canone di Noleggio</h1>

    <div class="noleggio-container">
        <label for="importo">Importo (â‚¬):</label>
        <input type="text" id="importo" placeholder="Inserisci importo" />

        <label for="durata">Durata (mesi):</label>
        <select id="durata">
            <option value="12">12 mesi</option>
            <option value="18">18 mesi</option>
            <option value="24" selected>24 mesi</option>
            <option value="36">36 mesi</option>
            <option value="48">48 mesi</option>
            <option value="60">60 mesi</option>
        </select>

        <button type="button" id="calcolaNoleggio">Calcola Noleggio</button>

        <h2>Risultati Noleggio:</h2>
        <p>Rata mensile: <span id="rataMensile">0,00</span> â‚¬</p>
        <p>Spese di contratto: <span id="speseContratto">0,00</span> â‚¬</p>
        <p>Costo giornaliero: <span id="costoGiornaliero">0,00</span> â‚¬</p>
        <p>Costo orario: <span id="costoOrario">0,00</span> â‚¬</p>
    </div>

    <hr>

    <h2>ðŸ“„ Genera Report PDF</h2>
    <button type="button" id="generaPdfConNoleggio">ðŸ“„ Genera PDF con Noleggio</button>
    <button type="button" id="generaPdfSenzaNoleggio">ðŸ“„ Genera PDF senza Noleggio</button>
    <button type="button" id="generaPdfConProvvigione">ðŸ“„ Genera PDF con Calcolo Provvigione</button>

    <h2>ðŸ“¤ Condividi via WhatsApp</h2>
    <button type="button" id="inviaWhatsApp">ðŸ“² Invia Report su WhatsApp</button>
    <button type="button" id="inviaWhatsAppCompleto">ðŸ“² Invia Report Completo su WhatsApp</button>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(() => console.log('Service Worker registrato con successo'))
                .catch(err => console.error('Errore nella registrazione del Service Worker:', err));
        }
    </script>

</body>
</html>
